#[[
	An example CMakeLists.txt file for a JUCE plugin using Shared-code. 
]]

cmake_minimum_required (VERSION 3.17)

project (NewPlugin VERSION 0.0.1 LANGUAGES CXX)

#set (BV_USE_ABLETON_LINK TRUE)
#set (BV_USE_MTS_ESP TRUE)

include (scripts/get_shared_code.cmake)

set (sourceDir ${CMAKE_CURRENT_LIST_DIR}/Source)

bv_add_modules (${sourceDir}/modules)

set (bv_default_formats Standalone VST3 AU Unity)
bv_detect_plugin_formats (formats)

juce_add_plugin (NewPlugin FORMATS ${formats})

configure_default_juce_plugin (NewPlugin)

target_sources (NewPlugin PRIVATE ${sourceDir}/Main.cpp)

target_include_directories (NewPlugin PRIVATE ${sourceDir})

add_binary_data_folder (NewPlugin assets)

target_link_libraries (NewPlugin PRIVATE NewPlugin_dsp NewPlugin_gui)